--- a/drivers/spi/Makefile
+++ b/drivers/spi/Makefile
@@ -126,3 +126,5 @@ obj-$(CONFIG_SPI_ZYNQMP_GQSPI)		+= spi-z
 # SPI slave protocol handlers
 obj-$(CONFIG_SPI_SLAVE_TIME)		+= spi-slave-time.o
 obj-$(CONFIG_SPI_SLAVE_SYSTEM_CONTROL)	+= spi-slave-system-control.o
+
+obj-$(CONFIG_SYSFS_MNFINFO)	+= sysfs-mnfinfo/
--- a/drivers/spi/Kconfig
+++ b/drivers/spi/Kconfig
@@ -947,4 +947,6 @@ endif # SPI_SLAVE
 config SPI_DYNAMIC
 	def_bool ACPI || OF_DYNAMIC || SPI_SLAVE
 
+source "drivers/spi/sysfs-mnfinfo/Kconfig"
+
 endif # SPI
