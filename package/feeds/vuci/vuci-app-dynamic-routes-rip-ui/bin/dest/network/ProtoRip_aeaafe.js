(function(l,u){typeof exports=="object"&&typeof module<"u"?module.exports=u():typeof define=="function"&&define.amd?define(u):(l=typeof globalThis<"u"?globalThis:l||self,l["network/ProtoRip_js"]=u())})(this,function(){"use strict";function l(n,e,i,c,t,s,f,v){var a=typeof n=="function"?n.options:n;e&&(a.render=e,a.staticRenderFns=i,a._compiled=!0),c&&(a.functional=!0),s&&(a._scopeId="data-v-"+s);var o;if(f?(o=function(r){r=r||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!r&&typeof __VUE_SSR_CONTEXT__<"u"&&(r=__VUE_SSR_CONTEXT__),t&&t.call(this,r),r&&r._registeredComponents&&r._registeredComponents.add(f)},a._ssrRegister=o):t&&(o=v?function(){t.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:t),o)if(a.functional){a._injectStyles=o;var b=a.render;a.render=function(_,m){return o.call(m),b(_,m)}}else{var d=a.beforeCreate;a.beforeCreate=d?[].concat(d,o):[o]}return{exports:n,options:a}}const u={data(){return{formData:{interface:[]},versions:[["1","1"],["2","2"]],interfaces:[{name:"id",label:this.$t("Name"),help:this.$t("List of created interfaces")},{name:"ifname",label:this.$t("Interface"),help:this.$t("Interface name")},{name:"passive_interface",label:this.$t("Passive interface"),help:this.$t("Specify interface to passive mode")},{name:"enabled"}],accessList:[{name:"id",label:this.$t("Name"),help:this.$t("List")},{name:"target",label:this.$t("RIP interface"),help:this.$t("Applies the rule for the specified interface")},{name:"action",label:this.$t("Action"),help:this.$t("Denies or permits matched entry")},{name:"net",label:this.$t("Network"),help:this.$t("Filter network")},{name:"direction",label:this.$t("Direction"),help:this.$t("If direction is Inbound, the access list is applied to input routes. If direction is Outbound the access list is applied to advertised routes")},{name:"enabled"}],ifConfig:[],ifStatus:[],action:[["permit",this.$t("Permit")],["deny",this.$t("Deny")]],direction:[["in",this.$t("Inbound")],["out",this.$t("Outbound")]]}},computed:{target(){var n;return(n=this.formData)==null?void 0:n.interface.map(e=>[e.id,e.id])}},methods:{deleteFiltersWithSameId(n,e){e.access=e.access.filter(i=>i.target!==n.id)},loadInterfaceData(){return this.$axios.bulkGet(["/api/interfaces/config","/api/interfaces/status"]).then(([n,e])=>{n.success?this.ifConfig=n.data:this.$message.error(this.$t("Failed to load interface configuration")),e.success?this.ifStatus=e.data:this.$message.error(this.$t("Failed to load interface status"))}).catch(()=>{this.$message.error(this.$t("Unexpected error occurred"))})},validateSubnet(n){return this.$VuciValidator.value=n,this.$VuciValidator.subnet().isValid||n==="any"?{isValid:!0}:{isValid:!1,message:this.$t("Network must be 'Any' or IP address with subnet mask")}}}};var p=function(){var e=this,i=e._self._c;return i("vuci-form",{attrs:{"after-load":e.loadInterfaceData,config:"rip;network"},scopedSlots:e._u([{key:"default",fn:function({uciData:c}){return[i("vuci-named-section",{attrs:{"uci-data":c,endpoints:[{endpoint:"rip/global"}],"data-key":"rip",title:e.$t("RIP - Global Settings")},scopedSlots:e._u([{key:"default",fn:function({s:t}){return[i("vuci-form-item-switch",{attrs:{"uci-section":t,name:"enabled",label:e.$t("Enable"),help:e.$t("Enable/Disable RIP protocol")}}),i("vuci-form-item-switch",{attrs:{"uci-section":t,name:"enabled_vty",label:e.$t("Enable vty"),help:e.$t("Enable/Disable vty access from LAN")}}),i("vuci-form-item-upload",{attrs:{"uci-section":t,name:"ripd_custom_conf",label:e.$t("Import config"),help:e.$t("Use imported RIP configuration")}}),i("vuci-form-item-select",{attrs:{"uci-section":t,name:"version",label:e.$t("Version"),help:e.$t("Specify the version of RIP"),options:e.versions,initial:"2"}}),i("vuci-form-item-list",{attrs:{"uci-section":t,name:"neighbors",label:e.$t("Neighbor"),help:e.$t("Specify RIP neighbor"),placeholder:e.$t("any"),rules:"ipmask4"}})]}}],null,!0)}),i("vuci-typed-section",{attrs:{type:"rip_interface","uci-data":c,endpoints:[{endpoint:"rip/interface/config"}],"data-key":"interface",title:e.$t("RIP interfaces"),help:e.$t("List of created interfaces"),columns:e.interfaces,"after-delete":e.deleteFiltersWithSameId,addremove:""},scopedSlots:e._u([{key:"id",fn:function({s:t}){return[i("vuci-form-item-dummy",{attrs:{"uci-section":t,name:"id"}})]}},{key:"ifname",fn:function({s:t}){return[i("vuci-form-item-select",{attrs:{"uci-section":t,name:"ifname",options:e.$network.interfaceOptions(e.ifStatus)}})]}},{key:"passive_interface",fn:function({s:t}){return[i("vuci-form-item-switch",{attrs:{"uci-section":t,name:"passive_interface"}})]}},{key:"enabled",fn:function({s:t}){return[i("vuci-form-item-switch",{attrs:{"uci-section":t,name:"enabled"}})]}},{key:"addForm",fn:function({addModel:t}){return[i("tlt-form-item-input",{attrs:{label:e.$t("Name"),prop:"id",rules:"uciname",maxlength:"32",required:""},model:{value:t.id,callback:function(s){e.$set(t,"id",s)},expression:"addModel.id"}})]}}],null,!0)}),i("vuci-typed-section",{ref:"accessList",attrs:{type:"rip_access_list","uci-data":c,endpoints:[{endpoint:"rip/access/config"}],"data-key":"access",title:e.$t("Access list filters"),help:e.$t("List of created filter rules"),columns:e.accessList,addremove:""},scopedSlots:e._u([{key:"id",fn:function({s:t}){return[i("vuci-form-item-dummy",{attrs:{"uci-section":t,name:"id"}})]}},{key:"target",fn:function({s:t}){return[i("vuci-form-item-select",{attrs:{"uci-section":t,name:"target",options:e.target}})]}},{key:"action",fn:function({s:t}){return[i("vuci-form-item-select",{attrs:{"uci-section":t,name:"action",options:e.action}})]}},{key:"net",fn:function({s:t}){return[i("vuci-form-item-select",{attrs:{"uci-section":t,name:"net",options:[["any",e.$t("Any")]],rules:e.validateSubnet,initial:"any","allow-create":""}})]}},{key:"direction",fn:function({s:t}){return[i("vuci-form-item-select",{attrs:{"uci-section":t,name:"direction",options:e.direction}})]}},{key:"enabled",fn:function({s:t}){return[i("vuci-form-item-switch",{attrs:{"uci-section":t,name:"enabled"}})]}},{key:"addForm",fn:function({addModel:t}){return[i("tlt-form-item-input",{attrs:{label:e.$t("Name"),prop:"id",rules:"uciname",maxlength:"32",required:""},model:{value:t.id,callback:function(s){e.$set(t,"id",s)},expression:"addModel.id"}}),i("tlt-form-item-select",{attrs:{label:e.$t("RIP interface"),prop:"target",options:e.target,required:""},model:{value:t.target,callback:function(s){e.$set(t,"target",s)},expression:"addModel.target"}})]}}],null,!0)})]}}]),model:{value:e.formData,callback:function(c){e.formData=c},expression:"formData"}})},h=[],$=l(u,p,h,!1,null,null,null,null);return $.exports});
