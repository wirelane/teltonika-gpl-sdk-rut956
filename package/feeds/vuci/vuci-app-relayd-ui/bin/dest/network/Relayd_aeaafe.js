(function(a,l){typeof exports=="object"&&typeof module<"u"?module.exports=l():typeof define=="function"&&define.amd?define(l):(a=typeof globalThis<"u"?globalThis:a||self,a["network/Relayd_js"]=l())})(this,function(){"use strict";function a(t,e,n,f,s,c,d,v){var i=typeof t=="function"?t.options:t;e&&(i.render=e,i.staticRenderFns=n,i._compiled=!0),f&&(i.functional=!0),c&&(i._scopeId="data-v-"+c);var r;if(d?(r=function(o){o=o||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!o&&typeof __VUE_SSR_CONTEXT__<"u"&&(o=__VUE_SSR_CONTEXT__),s&&s.call(this,o),o&&o._registeredComponents&&o._registeredComponents.add(d)},i._ssrRegister=r):s&&(r=v?function(){s.call(this,(i.functional?this.parent:this).$root.$options.shadowRoot)}:s),r)if(i.functional){i._injectStyles=r;var $=i.render;i.render=function(w,p){return r.call(p),$(w,p)}}else{var u=i.beforeCreate;i.beforeCreate=u?[].concat(u,r):[r]}return{exports:t,options:i}}const l={name:"Relayd",data(){return{wirelessNetworks:[],ifaces:[]}},computed:{ifaceOptions(){var t,e;return(e=(t=this.ifaces)==null?void 0:t.filter(n=>n.proto!=="wwan"&&n.proto!=="connm"&&n.proto!=="none"))==null?void 0:e.map(this.$network.getName)},wirelessOptions(){const t=[];return this.wirelessNetworks.forEach(e=>{e.mode==="sta"&&t.push(e.network)}),t.length===0?t.push(["",this.$t("-- No WiFi clients configured --")]):t.unshift(["",this.$t("-- Please select --")]),t}},methods:{afterLoad(){const t=["/api/interfaces/config",{endpoint:"/api/wireless/interfaces/config",condition:"vuci-app-wireless-api.control"}];return this.$axios.bulkGet(t).then(([e,n])=>{e.success?this.ifaces=e.data:this.$message.error(this.$t("Failed to load interfaces data")),n.success?this.wirelessNetworks=n.data:this.$message.error(this.$t("Failed to load wireless data"))}).catch(()=>{this.$message.error(this.$t("Failed to load data"))})}}};var h=function(){var e=this,n=e._self._c;return n("vuci-form",{attrs:{config:"network","after-load":e.afterLoad},scopedSlots:e._u([{key:"default",fn:function({uciData:f}){return[n("vuci-named-section",{attrs:{title:e.$t("Relay configuration"),"uci-data":f,endpoints:[{endpoint:"relayd/config"}],"data-key":"relayd",name:"general"},scopedSlots:e._u([{key:"default",fn:function({s}){return[n("vuci-form-item-switch",{attrs:{"uci-section":s,name:"enabled",label:e.$t("Enabled")}}),n("vuci-form-item-select",{attrs:{"uci-section":s,name:"lan_mark",options:e.ifaceOptions,label:e.$t("Interface")}}),n("vuci-form-item-select",{attrs:{"uci-section":s,name:"network",options:e.wirelessOptions,label:e.$t("Wireless interface")}})]}}],null,!0)})]}}])})},_=[],m=a(l,h,_,!1,null,null,null,null);return m.exports});
