(function(f,u){typeof exports=="object"&&typeof module<"u"?module.exports=u():typeof define=="function"&&define.amd?define(u):(f=typeof globalThis<"u"?globalThis:f||self,f["status/ProtoEigrp_js"]=u())})(this,function(){"use strict";function f(n,s,r,a,t,i,d,c){var e=typeof n=="function"?n.options:n;s&&(e.render=s,e.staticRenderFns=r,e._compiled=!0),a&&(e.functional=!0),i&&(e._scopeId="data-v-"+i);var o;if(d?(o=function(l){l=l||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!l&&typeof __VUE_SSR_CONTEXT__<"u"&&(l=__VUE_SSR_CONTEXT__),t&&t.call(this,l),l&&l._registeredComponents&&l._registeredComponents.add(d)},e._ssrRegister=o):t&&(o=c?function(){t.call(this,(e.functional?this.parent:this).$root.$options.shadowRoot)}:t),o)if(e.functional){e._injectStyles=o;var p=e.render;e.render=function($,_){return o.call(_),p($,_)}}else{var h=e.beforeCreate;e.beforeCreate=h?[].concat(h,o):[o]}return{exports:n,options:e}}const u={data(){return{cards:[],tableColumns:[{dataIndex:"ip",title:this.$t("IP")},{dataIndex:"fd",title:this.$t("FD")},{dataIndex:"serno",title:this.$t("Serno")}],cardsColumns:[{name:"Interface",label:this.$t("Interface")},{name:"Hold",label:this.$t("Hold")},{name:"Uptime",label:this.$t("Uptime")},{name:"SRTT",label:this.$t("SRTT")},{name:"RTO",label:this.$t("RTO")},{name:"Q",label:this.$t("Queue count")},{name:"Seq",label:this.$t("Sequence num")}]}},async created(){this.$spin(),await this.getData(),this.$spin(!1),this.$timer.start("getData")},methods:{getData(){return this.$axios.get("/api/eigrp/status").then(n=>{if(n!=null&&n.data){const s=[],r="neighbors",a=Object.keys(n.data[r]);for(let t=0;t<a.length;t++){const i=n.data[r],d=t+1,c=i[a[t]].Address||"-",e={Interface:i[a[t]].Interface||"-",Hold:i[a[t]].Hold||"-",Uptime:i[a[t]].Uptime||"-",SRTT:i[a[t]].SRTT||"-",RTO:i[a[t]].RTO||"-",Q:i[a[t]].Q||"-",Seq:i[a[t]].Seq||"-"};s.push({title:c,data:e,tableData:this.getTableData(n.data,d,r,i,a)})}this.cards=s}}).catch(()=>{this.$message.error(this.$t("Failed to load eigrp data"))})},getTableData(n,s,r,a,t){const i=[],d=Object.keys(n);for(let c=0;c<d.length;c++){const e=n[d[c]];if(d[c]!==r){let o=String(e.via);if(o=o.split(" "),o[1]===a[t[s-1]].Address){const p=e.fd.split(" "),h=e.serno.split(" "),l=e.ip.split(" ");i.push({fd:p[2]||"-",serno:h[1]||"-",ip:l[2]||"-"})}}}return i}},timers:{getData:{time:1e4,immediate:!1,repeat:!0}}};var m=function(){var s=this,r=s._self._c;return r("div",[r("tlt-card",{attrs:{sid:"eigrp_routes",title:"EIGRP"}},[s.cards.length!==0?r("tlt-routing-card",{attrs:{cards:s.cards,"table-columns":s.tableColumns,"cards-columns":s.cardsColumns}}):r("div",[s._v(" "+s._s(s.$t("There are no neighbours"))+" ")])],1)],1)},g=[],b=f(u,m,g,!1,null,null,null,null);return b.exports});
