(function(c,u){typeof exports=="object"&&typeof module<"u"?module.exports=u():typeof define=="function"&&define.amd?define(u):(c=typeof globalThis<"u"?globalThis:c||self,c["services/Hotspot2Overview_js"]=u())})(this,function(){"use strict";function c(s,e,t,o,n,i,h,d){var r=typeof s=="function"?s.options:s;e&&(r.render=e,r.staticRenderFns=t,r._compiled=!0),o&&(r.functional=!0),i&&(r._scopeId="data-v-"+i);var l;if(h?(l=function(a){a=a||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!a&&typeof __VUE_SSR_CONTEXT__<"u"&&(a=__VUE_SSR_CONTEXT__),n&&n.call(this,a),a&&a._registeredComponents&&a._registeredComponents.add(h)},r._ssrRegister=l):n&&(l=d?function(){n.call(this,(r.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(r.functional){r._injectStyles=l;var m=r.render;r.render=function(A,f){return l.call(f),m(A,f)}}else{var p=r.beforeCreate;r.beforeCreate=p?[].concat(p,l):[l]}return{exports:s,options:r}}const u={inject:["formOptions"],props:{section:{type:Object,required:!0}},data(){return{formData:{},venueColumns:[{name:"countryCode",label:this.$t("Language code"),help:this.$t("Two or three character language code (ISO-639)")},{name:"name",label:this.$t("Venue name"),help:this.$t("Name of the venue")},{name:"url",label:this.$t("Venue URL information"),help:this.$t("Venue URL to provide additional information corresponding to Venue Name information (URL should contain protocol).")}],gppColumns:[{name:"mcc",label:this.$t("Mobile country code"),help:this.$t("Mobile country code (3 decimal digits)")},{name:"mnc",label:this.$t("Mobile network code"),help:this.$t("Mobile network code (2 or 3 decimal digits)")}],naiColumns:[{name:"hostname",label:this.$t("NAI realm"),help:this.$t("The NAI Realm provides a list of NAI realms corresponding to the Home SPs that can authenticate a client device.")},{name:"authNum",label:this.$t("EAP method"),help:this.$t("Identifies the EAP method supported by that NAI realm for authentication.")},{name:"param",label:this.$t("Authentication parameter"),help:this.$t("EAP method authentication parameter")}],operatorColumns:[{name:"opcountryCode",label:this.$t("Language code"),help:this.$t("Two or three character language code (ISO-639)")},{name:"opname",label:this.$t("Operator's name"),help:this.$t("Provides the friendly name of the Hotspot Operator.")}],conCapColumns:[{name:"proto",label:this.$t("Protocol")},{name:"port",label:this.$t("Port number")},{name:"state",label:this.$t("Status")}],tabs:[{tab:"general",title:this.$t("General Setup")},{tab:"osu",title:this.$t("OSU provider")},{tab:"wan",title:this.$t("WAN metrics")}],osuOptions:[["0","OMA-DM"],["1","SOAP-XML"]],linkStatusOptions:[["01",this.$t("Link up")],["02",this.$t("Link down")],["03",this.$t("Link in test state")]],accessTypeOptions:[["0",this.$t("Private network")],["1",this.$t("Private network with guest access")],["2",this.$t("Chargeable public network")],["3",this.$t("Free public network")],["4",this.$t("Personal device network")],["5",this.$t("Emergency services only network")],["14",this.$t("Test or experimental")]],authTypeOptions:[["",this.$t("Not configured")],["00",this.$t("Acceptance of terms and conditions")],["01",this.$t("On-line enrollment supported")],["02",this.$t("http/https redirection")],["03",this.$t("DNS redirection")]],authOptions:[["",this.$t("Undefined")],["[2:1]",this.$t("Non EAP PAP")],["[2:2]",this.$t("Non EAP CHAP")],["[2:3]",this.$t("Non EAP MSCHAP")],["[2:4]",this.$t("Non EAP MSCHAPV2")],["[5:6]",this.$t("Credential certificate")],["[5:7]",this.$t("Credential username/password")]],eapOptions:[["",this.$t("Undefined")],["13","EAP-TLS"],["21","EAP-TTLS"],["25","PEAP"],["43","EAP-FAST"]],statusOptions:[["0",this.$t("Closed")],["1",this.$t("Open")],["2",this.$t("Unknown")]],protoOptions:[["1","ICMP"],["6","TCP"],["17","UDP"]],ipAddrOptions:[["0",this.$t("Address type not available")],["1",this.$t("Public IPv4 address available")],["2",this.$t("Port-restricted IPv4 address available")],["3",this.$t("Single NATed private IPv4 address available")],["4",this.$t("Double NATed private IPv4 address available")],["5",this.$t("Port-restricted IPv4 address and single NATed IPv4 address available")],["6",this.$t("Port-restricted IPv4 address and double NATed IPv4 address available")],["7",this.$t("Availability of the address type is not known")]],venueGroupOptions:[["0",this.$t("Unspecified")],["1",this.$t("Assembly")],["2",this.$t("Business")],["3",this.$t("Educational")],["4",this.$t("Factory and Industrial")],["5",this.$t("Institutional")],["6",this.$t("Mercantile")],["7",this.$t("Residential")],["8",this.$t("Storage")],["9",this.$t("Utility and Miscellaneous")],["10",this.$t("Vehicular")],["11",this.$t("Outdoor")]],allVenueTypeOptions:[[["0",this.$t("Unspecified")]],[["0",this.$t("Unspecified Assembly")],["1",this.$t("Arena")],["2",this.$t("Stadium")],["3",this.$t("Passenger Terminal (e.g., airport, bus, ferry, train station)")],["4",this.$t("Amphitheater")],["5",this.$t("Amusement Park")],["6",this.$t("Place of Worship")],["7",this.$t("Convention Center")],["8",this.$t("Library")],["9",this.$t("Museum")],["10",this.$t("Restaurant")],["11",this.$t("Theater")],["12",this.$t("Bar")],["13",this.$t("Coffee Shop")],["14",this.$t("Zoo or Aquarium")],["15",this.$t("Emergency Coordination Center")]],[["0",this.$t("Unspecified Business")],["1",this.$t("Doctor or Dentist office")],["2",this.$t("Bank")],["3",this.$t("Fire Station")],["4",this.$t("Police Station")],["6",this.$t("Post Office")],["7",this.$t("Professional Office")],["8",this.$t("Research and Development Facility")],["9",this.$t("Attorney Office")]],[["0",this.$t("Unspecified")],["1",this.$t("School, Primary")],["2",this.$t("School, Secondary")],["3",this.$t("University or College")]],[["0",this.$t("Unspecified Factory and Industrial")],["1",this.$t("Factory")]],[["0",this.$t("Unspecified Institutial")],["1",this.$t("Hospital")],["2",this.$t("Long-Term Care Facility (e.g., Nursing home, Hospice, etc.)")],["3",this.$t("Alcohol and Drug Rehabilitation Center")],["4",this.$t("Group Home")],["5",this.$t("Prison or Jail")]],[["0",this.$t("Unspecified Mercantile")],["1",this.$t("Retail Store")],["2",this.$t("Grocery Market")],["3",this.$t("Automotive Service Station")],["4",this.$t("Shopping Mall")],["5",this.$t("Gas Station")]],[["0",this.$t("Unspecified Residential")],["1",this.$t("Private Residence")],["2",this.$t("Hotel or Motel")],["3",this.$t("Dormitory")],["4",this.$t("Boarding House")]],[["0",this.$t("Unspecified Storage")]],[["0",this.$t("Unspecified Utility and Miscellaneous")]],[["0",this.$t("Unspecified Vehicular")],["1",this.$t("Automobile or Truck")],["2",this.$t("Airplane")],["3",this.$t("Bus")],["4",this.$t("Ferry")],["5",this.$t("Ship or Boat")],["6",this.$t("Train")],["7",this.$t("Motor Bike")]],[["0",this.$t("Unspecified Outdoor")],["1",this.$t("Muni-mesh Network")],["2",this.$t("City Park")],["3",this.$t("Rest Area")],["4",this.$t("Traffic Control")],["5",this.$t("Bus Stop")],["6",this.$t("Kiosk")]]],sideMessageTxt:this.$t("WPA2-EAP configuration is required for Hotspot 2.0 functionality. You can configure it %s here %s").format(`<a href="/network/wireless/ssids#id=${this.section.id}" >`,"</a>")}},computed:{wirelessDevice(){return this.formData.wirelessDevice||{}},venueTypeOptions(){return this.allVenueTypeOptions[this.section.venue_group]||[]},wirelessInterface(){return this.formOptions().wirelessInterfaces.find(({id:s})=>s===this.section.id)}},created(){this.showSideMessage()},beforeDestroy(){this.destroySideMessage()},methods:{nameValidation(s){return/^[^`'"]+$/.test(s)?{isValid:!0}:{isValid:!1,message:this.$t("A string of any characters is accepted except ', \", `")}},showSideMessage(){var s;(s=this.wirelessInterface.encryption)!=null&&s.includes("wpa2")||this.$alert.error(this.sideMessageTxt,!0)},destroySideMessage(){this.$alert.remove(this.sideMessageTxt)},roamingConsortiumValidation(s){return[6,8,10].includes(s.length)?{isValid:!0}:{isValid:!1,message:this.$t("Only specific length values are accepted (6,8,10)")}}}};var $=function(){var e=this,t=e._self._c;return t("vuci-form",{attrs:{"bulk-request":"",config:"wireless",editing:""},scopedSlots:e._u([{key:"default",fn:function({uciData:o,editableSection:n}){return[t("vuci-named-section",{attrs:{name:n.id,title:e.$t("Hotspot 2.0"),"uci-data":o,endpoints:[{endpoint:"hotspot2/config"}],"data-key":"hotspot2"},scopedSlots:e._u([{key:"default",fn:function({s:i}){return[t("tlt-tabs",{attrs:{tabs:e.tabs},scopedSlots:e._u([{key:"general",fn:function(){return[t("vuci-form-item-switch",{attrs:{"uci-section":i,name:"interworking",label:e.$t("Enable"),help:e.$t("Enable Hotspot 2.0")}}),t("vuci-form-item-switch",{attrs:{"uci-section":i,name:"internet",label:e.$t("Internet access"),help:e.$t("Is used to inform the client device whether internet access is available")}}),t("vuci-form-item-select",{attrs:{"uci-section":i,name:"access_network_type",label:e.$t("Access network type"),help:e.$t("The access network type present in beacon and probe response frames.             Mobile devices can use this information when selecting a hotspot."),options:e.accessTypeOptions}}),t("vuci-form-item-input",{attrs:{"uci-section":i,name:"hessid",label:e.$t("HESSID"),help:e.$t("Homogeneous ESS identifier (optional). This shall be identifical to one of the BSSIDs in the homogeneous ESS"),rules:"macaddr",placeholder:n.bssid}}),t("vuci-form-item-list",{attrs:{"uci-section":i,name:"roaming_consortium",label:e.$t("Roaming consortium OI"),help:e.$t("3 or 5 octets hexstring. Only first three entries are available through Beacon and Probe Response frames"),rules:["hexstring",e.roamingConsortiumValidation],placeholder:"021122"}}),t("vuci-form-item-select",{attrs:{"uci-section":i,name:"network_auth_type",label:e.$t("Network authentication type"),help:e.$t("Indicates what type of network authentication is used in the network."),options:e.authTypeOptions}}),t("vuci-form-item-input",{attrs:{"uci-section":i,name:"redirect_url",label:e.$t("Redirect URL"),help:e.$t("Http/https redirection link."),rules:"protourl",depend:i.network_auth_type==="02",required:""}}),t("vuci-form-item-select",{attrs:{"uci-section":i,name:"ipaddr_type_availability",label:e.$t("IP address type availability"),help:e.$t("Provides information about the IP address version and type and that would be available to a mobile             device after it authenticates to the network."),options:e.ipAddrOptions,initial:"7"}}),t("vuci-form-item-list",{attrs:{"uci-section":i,name:"domain_name",label:e.$t("Domain name"),help:e.$t("The Domain Name ANQP-element provides a list of one or more domain names of the entity             operating the hotspot network"),rules:"hostname",placeholder:"example.com"}}),t("vuci-form-item-select",{attrs:{"uci-section":i,name:"venue_group",label:e.$t("Venue group"),help:e.$t("Describes the venue in which the hotspot is located."),options:e.venueGroupOptions}}),t("vuci-form-item-select",{attrs:{"uci-section":i,name:"venue_type",label:e.$t("Venue type"),help:e.$t("Describes the venue in which the hotspot is located."),options:e.venueTypeOptions}})]},proxy:!0},{key:"osu",fn:function(){return[t("vuci-form-item-input",{attrs:{"uci-section":i,name:"osu_ssid",label:e.$t("OSU ssid"),help:e.$t("Informs client device about the SSID used for OSU connections."),placeholder:"SSID",maxlength:"32"}}),t("vuci-form-item-input",{attrs:{"uci-section":i,name:"osu_server_uri",label:e.$t("OSU server URI"),rules:"protourl",placeholder:"http://www.example.org/"}}),t("vuci-form-item-input",{attrs:{"uci-section":i,name:"osu_friendly_name_lang",label:e.$t("Name language code"),help:e.$t("Two or three character language code (ISO-639)"),rules:"fieldvalidation('^[a-zA-Z]+$')",minlength:"2",maxlength:"3",placeholder:"eng"}}),t("vuci-form-item-input",{attrs:{"uci-section":i,name:"osu_friendly_name",label:e.$t("OSU friendly name"),minlength:"1",maxlength:"64",placeholder:e.$t("Name"),rules:[e.nameValidation]}}),t("vuci-form-item-input",{attrs:{"uci-section":i,name:"osu_nai",label:e.$t("OSU NAI"),help:e.$t("OSU network access identifier"),minlength:"0",maxlength:"64",placeholder:e.$t("Network Access Identifier")}}),t("vuci-form-item-select",{attrs:{"uci-section":i,name:"osu_method_list",label:e.$t("OSU method list"),options:e.osuOptions,multiple:""}}),t("vuci-form-item-input",{attrs:{"uci-section":i,name:"osu_service_desc_lang",label:e.$t("Description language code"),help:e.$t("Two or three character language code (ISO-639)"),rules:"fieldvalidation('^[a-zA-Z]+$')",minlength:"2",maxlength:"3",placeholder:"eng"}}),t("vuci-form-item-input",{attrs:{"uci-section":i,name:"osu_service_desc",label:e.$t("OSU description"),help:e.$t("OSU service description"),minlength:"1",maxlength:"64",placeholder:e.$t("description"),rules:[e.nameValidation]}})]},proxy:!0},{key:"wan",fn:function(){return[t("vuci-form-item-select",{attrs:{"uci-section":i,name:"hs20_wan_status",label:e.$t("Link status"),help:e.$t("Provides information about the WAN link that connects the hotspot to the internet."),options:e.linkStatusOptions}}),t("vuci-form-item-input",{attrs:{"uci-section":i,name:"hs20_wan_dw_speed",label:e.$t("Downlink speed"),help:e.$t("Downlink Speed in kbps (0-4294967295)"),rules:"range(0,4294967295)",placeholder:"8000"}}),t("vuci-form-item-input",{attrs:{"uci-section":i,name:"hs20_wan_up_speed",label:e.$t("Uplink speed"),help:e.$t("Uplink Speed in kbps (0-4294967295)"),rules:"range(0,4294967295)",placeholder:"1000"}})]},proxy:!0}],null,!0)})]}}],null,!0)}),t("vuci-typed-section",{attrs:{title:e.$t("Venue name information"),help:e.$t("Can be used to configure one or more Venue Name values for Venue Name ANQP information"),type:"venue","uci-data":o,endpoints:[{endpoint:`hotspot2/${n.id}/venues/config`}],"data-key":`${n.id}_venues`,columns:e.venueColumns,addremove:""},scopedSlots:e._u([{key:"countryCode",fn:function({s:i}){return[t("vuci-form-item-input",{attrs:{"uci-section":i,name:"country_code",minlength:"2",maxlength:"3",rules:"fieldvalidation('^[a-zA-Z]+$')",placeholder:"eng",initial:"eng",required:""}})]}},{key:"name",fn:function({s:i}){return[t("vuci-form-item-input",{attrs:{"uci-section":i,name:"name",minlength:"1",maxlength:"64",placeholder:e.$t("Example venue"),"force-write":"",required:"",rules:[e.nameValidation]}})]}},{key:"url",fn:function({s:i}){return[t("vuci-form-item-input",{attrs:{"uci-section":i,name:"url",rules:"protourl",placeholder:"http://www.example.com","force-write":"",required:""}})]}}],null,!0)}),t("vuci-typed-section",{attrs:{title:e.$t("3GPP cellular network information"),help:e.$t("These parameters are used to uniquely identify a mobile network operator"),type:"anqp_3gpp_cell_net","uci-data":o,endpoints:[{endpoint:`hotspot2/${n.id}/3gpp/config`}],"data-key":`${n.id}_3gpp`,columns:e.gppColumns,addremove:""},scopedSlots:e._u([{key:"mcc",fn:function({s:i}){return[t("vuci-form-item-input",{attrs:{"uci-section":i,name:"mobile_country_code",rules:"number_leading_zeros",minlength:"3",maxlength:"3",placeholder:"246",required:""}})]}},{key:"mnc",fn:function({s:i}){return[t("vuci-form-item-input",{attrs:{"uci-section":i,name:"mobile_network_code",rules:"number_leading_zeros",minlength:"2",maxlength:"3",placeholder:"99","force-write":"",required:""}})]}}],null,!0)}),t("vuci-typed-section",{attrs:{title:e.$t("Network access identifier (NAI) realm information"),help:e.$t("These parameters provide information for stations using Interworking network selection to allow       automatic connection to a network based on credentials"),type:"nai-realm","uci-data":o,endpoints:[{endpoint:`hotspot2/${n.id}/nai/config`}],"data-key":`${n.id}_nai`,columns:e.naiColumns,addremove:""},scopedSlots:e._u([{key:"hostname",fn:function({s:i}){return[t("vuci-form-item-input",{attrs:{"uci-section":i,name:"hostname",rules:"hostname",placeholder:"example.com",required:""}})]}},{key:"authNum",fn:function({s:i}){return[t("vuci-form-item-select",{attrs:{"uci-section":i,name:"auth_num",options:e.eapOptions}})]}},{key:"param",fn:function({s:i}){return[t("vuci-form-item-select",{attrs:{"uci-section":i,name:"param",options:e.authOptions,"force-write":""}})]}}],null,!0)}),t("vuci-typed-section",{attrs:{title:e.$t("Operator friendly name"),help:e.$t("The client device may obtain the operator friendly name via GAS/ANQP queries to assist the user during manual hotspot selection"),type:"hs20_oper_friendly_name","uci-data":o,endpoints:[{endpoint:`hotspot2/${n.id}/names/config`}],"data-key":`${n.id}_names`,columns:e.operatorColumns,addremove:""},scopedSlots:e._u([{key:"opcountryCode",fn:function({s:i}){return[t("vuci-form-item-input",{attrs:{"uci-section":i,name:"country_code",minlength:"2",maxlength:"3",rules:"fieldvalidation('^[a-zA-Z]+$')",placeholder:"eng",required:""}})]}},{key:"opname",fn:function({s:i}){return[t("vuci-form-item-input",{attrs:{"uci-section":i,name:"name",placeholder:e.$t("Example operator"),maxlength:"512","force-write":"",required:"",rules:[e.nameValidation]}})]}}],null,!0)}),t("vuci-typed-section",{attrs:{title:e.$t("Connection capability"),help:e.$t("The Connection Capability provides information on the status of commonly used communication protocols and ports."),type:"hs20_conn_capab","uci-data":o,endpoints:[{endpoint:`hotspot2/${n.id}/capabilities/config`}],"data-key":`${n.id}_capabilities`,columns:e.conCapColumns,addremove:""},scopedSlots:e._u([{key:"proto",fn:function({s:i}){return[t("vuci-form-item-select",{attrs:{"uci-section":i,name:"proto",options:e.protoOptions}})]}},{key:"port",fn:function({s:i}){return[t("vuci-form-item-input",{attrs:{"uci-section":i,name:"port",placeholder:"22",rules:"port",required:""}})]}},{key:"state",fn:function({s:i}){return[t("vuci-form-item-select",{attrs:{"uci-section":i,name:"state",options:e.statusOptions,"force-write":""}})]}}],null,!0)})]}}]),model:{value:e.formData,callback:function(o){e.formData=o},expression:"formData"}})},v=[],g=c(u,$,v,!1,null,null,null,null);const y=g.exports,_={provide(){return{formOptions:this.getFormOptions}},data(){return{columns:[{name:"interface",label:this.$t("Interface")},{name:"enable"}],Hotspot2Edit:y,sections:["venues","3gpp","nai","names","capabilities"],wirelessInterfaces:[]}},methods:{getFormOptions(){return{wirelessInterfaces:this.wirelessInterfaces}},afterLoad(s){const e=["/api/wireless/interfaces/config",...this.buildBulkRequest("/api/hotspot2",s.hotspot2,this.sections)];return this.$axios.bulkGet(e).then(([t,...o])=>(t.success?this.wirelessInterfaces=t.data:this.$message.error(this.$t("Failed to load wireless interfaces")),this.parseBulkResponse(s.hotspot2,this.sections,"ssid",o))).catch(()=>(this.$message.error(this.$t("An unexpected error occurred")),{}))},buildBulkRequest(s,e,t){return e.map(o=>t.map(n=>`${s}/${o.id}/${n}/config`)).flat()},divideArray(s,e){const t=Math.ceil(s.length/e);return[...Array(e)].map(()=>s.splice(0,t))},parseBulkResponse(s,e,t,o){const n={};return this.divideArray(o,s.length).forEach((h,d)=>{const r=s[d],l=r[t];h.forEach(({data:m,success:p},a)=>{p?n[`${r.id}_${e[a]}`]=m:this.$message.error(this.$t('Failed to load data from "%s" endpoint in "%s" section').format(e[a],l))})}),n}}};var b=function(){var e=this,t=e._self._c;return t("vuci-form",{attrs:{config:"wireless","after-load":e.afterLoad},scopedSlots:e._u([{key:"default",fn:function({uciData:o}){return[t("vuci-typed-section",{attrs:{type:"wifi-iface",title:e.$t("Hotspot 2.0"),columns:e.columns,"edit-form":e.Hotspot2Edit,"uci-data":o,endpoints:[{endpoint:"hotspot2/config"}],"data-key":"hotspot2","form-methods":["edit","get"]},scopedSlots:e._u([{key:"interface",fn:function({s:n}){return[t("vuci-form-item-dummy",{attrs:{"uci-section":n,name:"ssid","no-write":""}})]}},{key:"enable",fn:function({s:n}){return[t("vuci-form-item-switch",{attrs:{"uci-section":n,name:"interworking"}})]}}],null,!0)})]}}])})},w=[],k=c(_,b,w,!1,null,null,null,null);return k.exports});
